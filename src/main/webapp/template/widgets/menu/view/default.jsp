<%-- * File           : $Header: //depot/escenic/widget-framework/branches/3.2/widget-framework-core-module/widget-core-menu/src/main/webapp/template/widgets/menu/view/default.jsp#1 $ * Last edited by : $Author: nahian $ $Date: 2014/05/14 $ * Version        : $Revision: #1 $ * * Copyright (C) 2009 Escenic AS. * All Rights Reserved.  No use, copying or distribution of this * work may be made except in accordance with a valid license * agreement from Escenic AS.  This notice must be included on * all copies, modifications and derivatives of this work.--%><%-- the purpose of this page is to render horizontal menu, both active only and all subitems menu --%><%@ page session="false" %><%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %><%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %><%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %><%@ taglib prefix="collection" uri="http://www.escenic.com/taglib/escenic-collection" %><c:set var="menu" value="${widget.model}"/><%--Getting the sectionMenuItem from widget.model map--%><c:set var="sectionMenuItem" value="${menu.sectionMenuItem}"/><c:set var="menuLevel" value="${menu.menuLevel}"/><%--Checking whether to render this menu or not based on current section level--%><c:if test="${menuLevel eq 1 or sectionMenuItem.level ge menuLevel or sectionMenuItem.level eq menuLevel-1}">  <c:if test="${not empty menu.items}">    <c:set var="navStyle" value="${empty menu.customStyle?'nav navbar-nav' : menu.customStyle}"/>    <c:if test="${menu.wrapWithNavbar}">      <c:set var="navbarStyle" value="${menu.navbarStyle == 'custom' ? menu.customNavbarStyle : menu.navbarStyle}"/>      <c:set var="navbarPosition" value="${menu.navbarPosition == 'no-class' ? '': menu.navbarPosition}"/>      <nav class="${btCss.navbar} ${navbarStyle} ${navbarPosition}" role="navigation">      <div class="${btCss.navbarHeader}">        <button type="button" class="${btCss.navbarToggle} collapsed" data-toggle="${btCss.collapse}" data-target="#navbar-collapse-${widget.widgetContent.id}">          <span class="${btCss.iconBar}"></span>          <span class="${btCss.iconBar}"></span>          <span class="${btCss.iconBar}"></span>        </button>      </div>      <%--Everything you want hidden at 940px or less, place within here--%>      <div id="navbar-collapse-${widget.widgetContent.id}" class="${btCss.navbarCollapse} ${btCss.collapse}"  style="height: auto;">    </c:if>    <ul class=" ${navStyle}">      <c:forEach var="menuItemMap" items="${menu.items}">        <c:choose>          <c:when test="${menuItemMap.menuItem.type == 3}">            <c:choose>              <c:when test="${not empty menuItemMap.menuItem.text}">                <c:set var="spaceClass" value="${widget.properties['nav.space.text.class']}"/>              </c:when>              <c:otherwise>                <c:set var="spaceClass" value="${widget.properties['nav.space.divider.class']}"/>              </c:otherwise>            </c:choose>            <li class="${spaceClass}">${menuItemMap.menuItem.text}</li>          </c:when>          <c:when test="${menu.enableDropdown and not empty menuItemMap.menuItem.children}">            <c:set target="${widget}" property="submenuItem" value="${menuItemMap.menuItem}"/>            <jsp:include page="helpers/dropdownMenu.jsp"/>          </c:when>          <c:otherwise>            <li class="<c:if test="${menuItemMap.active}">${menu.activeMenuStyleClass}</c:if>">              <a href="${menuItemMap.menuItem.URL}"<c:if test="${menuItemMap.menuItem.type==2}"> target="${menuItemMap.menuItem.target}"</c:if>>                <c:out value="${menuItemMap.menuItem.text}" escapeXml="true"/>              </a>            </li>          </c:otherwise>        </c:choose>      </c:forEach>    </ul>    <c:if test="${menu.wrapWithNavbar}">      </div>      </nav>    </c:if>  </c:if></c:if><c:remove var="menu" scope="request"/>